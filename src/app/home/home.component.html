<div style="text-align:center">
<button type="submit" class="btn btn-success" (click)="viewDetailsRequest()">View Details</button>
</div>

<div *ngIf="viewDetails" class="container" style="text-align:center">
    <h2>First Name: {{results.Item.fname.S}}</h2>
    <h2>Last Name: {{results.Item.lname.S}} </h2>
    <h2>Email: {{results.Item.email.S}}</h2>
    <h2>Description: {{results.Item.description.S}}</h2>
    <h2>Skills: {{results.Item.skills.S}}</h2>
    <h2>Role: {{results.Item.userrole.S}}</h2>
</div>

<br/>

<div style="text-align:center">
<button type="submit" class="btn btn-success" (click)="editDetailsRequest()">Edit Details</button>
</div>

<div *ngIf="editDetails" class="container" style="text-align:center">

        <h3>Updateing details</h3>
      
        <form (ngSubmit)="updateUserDetailsRequest(codeform)" #codeform="ngForm">
            <div class="form-group">
                <label for="fname">First Name</label>
                <input type="text" name="fname" id="fname" ngModel class="form-control" required>
            </div>
            <div class="form-group">
                    <label for="lname">Last Name</label>
                    <input type="text" name="lname" id="lname" ngModel class="form-control" required>
                </div>
            <div class="form-group">
                <label for="udescription">Description</label>
                <input type="text" name="udescription" id="udescription" ngModel class="form-control" required>
            </div>
            <div class="form-group">
                <label for="skills">Skills</label>
                <input type="text" name="skills" id="skills" ngModel class="form-control" required>
            </div>
          <button type="submit" class="btn btn-success" [disabled]="!codeform.form.valid" (click)="update()">Update</button>
        </form>
</div>

<br/>

<div *ngIf="isAdmin" style="text-align:center">
    <div style="text-align:center">
        <h2><b>This is admin area</b></h2>
    </div>

    <div style="text-align:center">
        <button type="submit" class="btn btn-success" (click)="assignRoleRequest()">Assign a role to an existing user</button>
    </div>

    <br/>
    <div style="text-align:center">
        <button type="submit" class="btn btn-success" (click)="userListRequest()">See list of all users</button>
    </div>
    <br/>

    <div *ngIf="assignRole" style="text-align:center" class="container">
        <form (ngSubmit)="assignRoleApiRequest(codeform)" #codeform="ngForm">
            <br/>
            <div class="form-group">
                <label for="skills">Email of user</label>
                <input type="text" name="assigneduser" id="assigneduser" ngModel class="form-control" required>
            </div>
            <div class="form-group">
                <h3>Pick role: <b>'dev'</b> or <b>'projectmanager'</b></h3><br/>
                <input type="text" name="role" id="role" ngModel class="form-control" required>
            </div>
            <button type="submit" class="btn btn-success" [disabled]="!codeform.form.valid" (click)="update()">Assign</button>
        </form> 
    </div>

    
    <div *ngIf="userList" style="text-align:center">
        <h3 style="text-align:center"><b>List of all users</b></h3>
        <br/>
        <table id="userTable" class="table table-bordered">
            <thead>
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Description</th>
                    <th>Skills</th>
                    <th>Role</th>
                </tr>
            </thead>
            <tbody *ngFor="let user of userListResult.Items">
                <tr>
                    <td>{{user.fname.S}}</td>
                    <td>{{user.lname.S}}</td>
                    <td>{{user.email.S}}</td>
                    <td>{{user.description.S}}</td>
                    <td>{{user.skills.S}}</td>
                    <td>{{user.userrole.S}}</td>
                </tr>
            </tbody>
        </table>
    </div>
    
</div>